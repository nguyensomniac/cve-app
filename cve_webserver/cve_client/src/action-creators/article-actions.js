import fetch from 'isomorphic-fetch';

export const REQUEST_ARTICLES = "REQUEST_ARTICLES";
const requestArticles = () => {
  return {
    type: REQUEST_ARTICLES
  }
}

export const RECEIVE_ARTICLES = "RECEIVE_ARTICLES";
const receiveArticles = (articles) => {
  return {
     type: RECEIVE_ARTICLES,
     articles
  }
}

export const fetchArticles = () => {
  return (dispatch) => {
    fetch('/api/articles')
      .then((response) => {
        console.log(response);
        if (response.status == 200) {
          return response.json();
        } else {
          return Promise.reject();
        }
      })
      .then((articles) => {
        dispatch(receiveArticles(articles));
      })
  }
}
